<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Books</title>
</head>
<body>
    <script>
        const booksByCategory = [
            {
                category: "Richness",
                books: [
                    {
                        title: "The millionary mind secrets",
                        author: "T. Harv Eker"
                    },
                    {
                        title: "The richnest man in Babylon",
                        author: "Geoge S. Clason"
                    },
                    {
                        title: "Rich dad,, poor dad",
                        author: "Robert T. Kiyosaki & Sharon L. Lechter"
                    }
                ]
            },
            {
                category: "Emotional Intelligence",
                books: [
                    {
                        title: "You are irreplaceable",
                        author: "Augusto Cury"
                    },
                    {
                        title: "Anxiety - How to face the al of the century",
                        author: "Augusto Cury"
                    },
                    {
                        title: "the 7 habits of the most effective people",
                        author: "Stephen R. Covey"
                    }
                ]
            }
        ];

        const totalCategories = booksByCategory.length
        console.log("O número total de categorias é: ", totalCategories)

        for(let category of booksByCategory) {
            console.log("Total de livros da categoria: ", category.category)
            console.log(category.books.length)
        }

        function countAuthors() {
            let authors = [];

            for(let category of booksByCategory) {
                for(let book of category.books) {
                    if(authors.indexOf(book.author) == -1) {
                        authors.push(book.author)
                    }
                }
            }

            console.log("Total de autores: ", authors.length)
        }

        countAuthors()

        function searchBooks(author) {
            let authorBooks = [];

            for(let category of booksByCategory) {
                for(let book of category.books) {
                    if(book.author === author) {
                        authorBooks.push(book.title)
                    }
                }
            }

            console.log(`Livros de ${author}: ${authorBooks.join(", ")}`)
        }

        searchBooks("Stephen R. Covey")
    </script>
</body>
</html>